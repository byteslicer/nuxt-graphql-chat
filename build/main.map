{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/uuid/lib/rng.js","webpack:///./node_modules/uuid/v1.js","webpack:///./nuxt.config.js","webpack:///./schema/main.gql","webpack:///./schema/main.js","webpack:///./server/index.js","webpack:///external \"apollo-server-express\"","webpack:///external \"body-parser\"","webpack:///external \"crypto\"","webpack:///external \"express\"","webpack:///external \"graphql\"","webpack:///external \"graphql-subscriptions\"","webpack:///external \"http\"","webpack:///external \"moment\"","webpack:///external \"nuxt\"","webpack:///external \"subscriptions-transport-ws\""],"names":["pkg","require","module","exports","mode","head","title","name","meta","charset","content","hid","description","link","rel","type","href","css","modules","apollo","includeNodeModules","clientConfigs","default","httpEndpoint","wsEndpoint","moment","uuidv1","PubSub","pubsub","POST_ADDED","posts","Subscription","postAdded","subscribe","asyncIterator","Query","root","args","context","Mutation","addPost","post","id","time","format","publish","push","host","process","env","HOST","port","PORT","server","ApolloServer","typeDefs","resolvers","app","express","applyMiddleware","httpServer","http","createServer","installSubscriptionHandlers","config","dev","set","start","nuxt","Nuxt","builder","Builder","build","use","render","listen","consola","ready","message","graphqlPath","badge"],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvBA;AACA;;AAEA,aAAa,mBAAO,CAAC,sBAAQ;;AAE7B;AACA;AACA;;;;;;;;;;;;ACPA,UAAU,mBAAO,CAAC,iDAAW;AAC7B,kBAAkB,mBAAO,CAAC,iEAAmB;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;AA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./server/index.js\");\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","const pkg = require('./package')\n\nmodule.exports = {\n  mode: 'universal',\n\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: pkg.name,\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'theme-color', content: '#0B1924' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: pkg.description }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n\n  css: [\n    '@/assets/css/main.css'\n  ],\n\n  /*\n  ** Nuxt.js modules\n  */\n  modules: [\n//    'nuxt-buefy',\n    '@nuxtjs/apollo',\n  ],\n\n  apollo: {\n    includeNodeModules: true,\n    clientConfigs: {\n      default: {\n        httpEndpoint: 'http://192.168.1.194:3000/graphql',\n        wsEndpoint: 'ws://192.168.1.194:3000/graphql'\n      }\n    },\n  }\n}\n","\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"ObjectTypeDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"Subscription\"},\"interfaces\":[],\"directives\":[],\"fields\":[{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"postAdded\"},\"arguments\":[],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Post\"}},\"directives\":[]}]},{\"kind\":\"ObjectTypeDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"Query\"},\"interfaces\":[],\"directives\":[],\"fields\":[{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"posts\"},\"arguments\":[],\"type\":{\"kind\":\"ListType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Post\"}}},\"directives\":[]}]},{\"kind\":\"ObjectTypeDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"Mutation\"},\"interfaces\":[],\"directives\":[],\"fields\":[{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"addPost\"},\"arguments\":[{\"kind\":\"InputValueDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"author\"},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]},{\"kind\":\"InputValueDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"comment\"},\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]}],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"Post\"}},\"directives\":[]}]},{\"kind\":\"ObjectTypeDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"Post\"},\"interfaces\":[],\"directives\":[],\"fields\":[{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]},{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"author\"},\"arguments\":[],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]},{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"comment\"},\"arguments\":[],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]},{\"kind\":\"FieldDefinition\",\"name\":{\"kind\":\"Name\",\"value\":\"time\"},\"arguments\":[],\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}},\"directives\":[]}]}],\"loc\":{\"start\":0,\"end\":218}};\n    doc.loc.source = {\"body\":\"type Subscription {\\n  postAdded: Post\\n}\\n\\ntype Query {\\n  posts: [Post]\\n}\\n\\ntype Mutation {\\n  addPost(author: String, comment: String): Post\\n}\\n\\ntype Post {\\n  id: String\\n  author: String\\n  comment: String\\n  time: String\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n      module.exports = doc;\n    \n","const moment = require('moment')\nconst uuidv1 = require('uuid/v1');\nconst { PubSub } = require('apollo-server-express');\nconst pubsub = new PubSub();\n\nconst POST_ADDED = 'POST_ADDED';\n\nconst posts = []\n\nexport default {\n  Subscription: {\n    postAdded: {\n      // Additional event labels can be passed to asyncIterator creation\n      subscribe: () => pubsub.asyncIterator([POST_ADDED]),\n    },\n  },\n  Query: {\n    posts(root, args, context) {\n      return posts;\n    },\n  },\n  Mutation: {\n    addPost(root, args, context) {\n      let post = {\n        ...args,\n        id: uuidv1(),\n        time: moment().format()\n      }\n      pubsub.publish(POST_ADDED, { postAdded: post })\n      posts.push(post)\n      return post\n    },\n  },\n};\n","import express from 'express';\nimport bodyParser from 'body-parser';\nimport { ApolloServer } from 'apollo-server-express';\nimport http from 'http';\nimport { execute, subscribe } from 'graphql';\nimport { PubSub } from 'graphql-subscriptions';\nimport { SubscriptionServer } from 'subscriptions-transport-ws';\nimport { Nuxt, Builder } from 'nuxt';\n\nimport typeDefs from '~/schema/main.gql'\nimport resolvers from '~/schema/main'\n\nconst host = process.env.HOST || '0.0.0.0'\nconst port = process.env.PORT || 3000\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n})\n\nconst app = express()\nserver.applyMiddleware({ app })\n\nconst httpServer = http.createServer(app);\nserver.installSubscriptionHandlers(httpServer);\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(process.env.NODE_ENV === 'production')\n\napp.set('port', port)\n\nasync function start() {\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(config)\n\n  // Build in development\n  if (config.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  app.use(nuxt.render)\n\n  httpServer.listen(port, host)\n  consola.ready({\n    message: `Server ready at http://${host}:${port}${server.graphqlPath}`,\n    badge: true\n  })\n}\n\nstart()\n","module.exports = require(\"apollo-server-express\");","module.exports = require(\"body-parser\");","module.exports = require(\"crypto\");","module.exports = require(\"express\");","module.exports = require(\"graphql\");","module.exports = require(\"graphql-subscriptions\");","module.exports = require(\"http\");","module.exports = require(\"moment\");","module.exports = require(\"nuxt\");","module.exports = require(\"subscriptions-transport-ws\");"],"sourceRoot":""}